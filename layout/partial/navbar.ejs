<!-- <div class="container-fluid"> -->
<nav class="navbar navbar-expand-lg rounded-4 shadow-lg p-2 my-3 blur">
  <div class="container-fluid d-flex align-items-center">
    <!-- 左侧内容 -->
    <div class="nav-brand">
      <a href="<%= config.url %>"><%= config.title %></a>
    </div>

    <div class="d-flex align-items-center">
      <div class="nav-item ms-3">
        <%- partial('partial/search') %>
      </div>
      <div id="theme" class="nav-item me-3">
        <div id="light" hidden>
          <i class="bi bi-sun-fill"></i>
        </div>
        <div id="dark" hidden>
          <i class="bi bi-moon-fill"></i>
        </div>
      </div>

      <!-- 导航栏 -->
      <button class="navbar-toggler" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="d-lg-none d-none d-xl-block justify-content-end flex-grow-1 pe-3">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/">
              <i class="bi bi-house-door-fill"></i>主页
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/archives">
              <i class="bi bi-archive-fill"></i>归档
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/friendlink">
              <i class="bi bi-people-fill"></i>友链
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  </div>
</nav>


<script>
  const light = document.getElementById('light');
  const dark = document.getElementById('dark');
  const htmlTheme = document.querySelector('html');
  const themeBtn = document.querySelector('#theme');

  // 初始化主题
  function setTheme() {
    const theme = localStorage.getItem('theme') || 'light'; // 默认主题为 light

    if (theme === 'dark') {
      htmlTheme.dataset.bsTheme = 'dark';
      light.hidden = true;
      dark.hidden = false;
    } else {
      htmlTheme.dataset.bsTheme = 'light';
      light.hidden = false;
      dark.hidden = true;
    }
  }

  // 切换主题
  function toggleTheme() {
    const currentTheme = localStorage.getItem('theme') || 'light';
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';

    localStorage.setItem('theme', newTheme); // 更新 localStorage 中的主题
    setTheme(); // 更新页面主题
  }

  // 初始化主题
  setTheme();

  // 添加点击事件监听器
  themeBtn.addEventListener('click', toggleTheme);
</script>